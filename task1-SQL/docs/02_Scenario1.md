
### Scenario 1

Here I just document, the checks for the solution to the Scenario 1 in [01_task.md](01_task.md).

So after staring the docker compose we have the tables being populated by the seed script, see [here](../containers/db/init/01_seed.sql).

This should give use the state, once we have 100 entries in the `all_history` table, and 10 new entreies generated by that seed script for the recent_udates table.

```shell
$ docker exec -it task1_sql_pg psql -U luke -d interview -c "SELECT count(*) FROM all_history;"
 count 
-------
   100
(1 row)
```

We then persorm an update with the query for the [Scenario_1](../sql/00_Scenario1.sql):

```shell
$ docker exec -i task1_sql_pg psql -U luke -d interview < ../sql/00_Scenario1.sql
INSERT 0 10
$
```

Which should resunt into addition of all of the new entries to the `all_history` table.
We can simply check this by: 

```shell
$ docker exec -it task1_sql_pg psql -U luke -d interview -c "SELECT count(*) FROM all_history;"
 count 
-------
   110
(1 row)
$
```

But as the query is idempotant, we can execute it the second time, but should see no further updates:

```shell
$ docker exec -i task1_sql_pg psql -U luke -d interview < ../sql/00_Scenario1.sql
INSERT 0 0
$ docker exec -it task1_sql_pg psql -U luke -d interview -c "SELECT count(*) FROM all_history;"
 count 
-------
   110
(1 row)
$
```
